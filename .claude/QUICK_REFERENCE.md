# Claude Code クイックリファレンス

## 最も使う指示

### ✨ 完全品質保証モード
```
@perfect この機能を実装して
```
**結果**: 静的解析100点 + テスト100%成功

---

### 🧪 テスト駆動開発
```
@tdd 複雑なロジックを実装して
```
**結果**: テストファースト → 実装 → リファクタリング

---

### 🔍 既存コード検証
```
@validate ファイル名.py
```
**結果**: 品質スコア + テスト実行レポート

---

## ワークフロー早見表

| 状況 | 使うエイリアス | 時間 | 品質 |
|------|--------------|------|-----|
| 新機能（本番） | `@perfect` | ⏱️⏱️⏱️ | ⭐⭐⭐⭐⭐ |
| 複雑ロジック | `@tdd` | ⏱️⏱️⏱️⏱️ | ⭐⭐⭐⭐⭐ |
| バグ修正 | `@validate` | ⏱️⏱️ | ⭐⭐⭐⭐ |
| プロトタイプ | `@quick` | ⏱️ | ⭐ |

---

## 品質保証レベル

```
@quick   →  コード実装のみ
@validate →  静的解析 + 既存テスト実行
@perfect →  静的解析100 + 新規テスト100%
@tdd     →  テスト駆動 + 静的解析100
```

---

## 実際の使用例

### 例1: 新機能追加（本番リリース予定）
```
@perfect ユーザー登録機能を実装して。メール検証とパスワード強度チェック付き
```

### 例2: レガシーコード改善
```
@validate old_payment_system.py
```
→ 品質レポート + テスト実行
→ 問題があれば修正提案

### 例3: データ分析スクリプト（使い捨て）
```
@quick CSVファイルから売上グラフを生成して
```

### 例4: クリティカルなビジネスロジック
```
@tdd 在庫引当ロジックを実装して。同時注文の競合を防ぐ
```

---

## v4.0.1 で追加された理由

**発見されたバグ**:
- rollback_from_backup() 関数未実装（インポートエラー）
- テスト環境での絶対パス拒否
- Unicode出力エラー（Windows環境）

**根本原因**:
静的解析100点でも**実行テストなし**では不十分

**解決策**:
`@perfect` = 静的解析100点 + テスト100%成功

---

## よくある質問

### Q: いつも `@perfect` を使うべき？
**A**: 本番コードには必須。プロトタイプには `@quick` で十分。

### Q: `@tdd` と `@perfect` の違いは？
**A**:
- `@tdd`: テスト → 実装の順序（設計重視）
- `@perfect`: 実装 → テスト（速度重視）

### Q: 既存プロジェクトにどう適用？
**A**:
```
# 段階的導入
1. まず @validate で現状把握
2. 重要ファイルを @perfect で改善
3. 新規コードは全て @perfect または @tdd
```

---

*このファイルを印刷して手元に置くと便利です*
