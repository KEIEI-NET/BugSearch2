# BugSearch2 GUI Control Center - ユーザーガイド

*バージョン: v1.0.0*
*最終更新: 2025年10月12日*

## 📚 概要

BugSearch2 GUI Control Centerは、コマンドライン操作なしでBugSearch2の全機能を使用できる統合GUIアプリケーションです。

### 主要機能

- **プロセス起動**: ワンクリックでジョブを開始
- **リアルタイム監視**: 実行中のジョブとログを監視
- **一時停止/再開**: プロセスの一時停止と再開
- **キュー管理**: 複数ジョブの並列実行とスケジューリング
- **状態永続化**: アプリ再起動後も状態を復元

---

## 🚀 インストール

### 1. 依存パッケージのインストール

```bash
# GUI専用パッケージ
pip install -r requirements_gui.txt

# または個別インストール
pip install customtkinter psutil
```

### 2. アプリケーション起動

```bash
python gui_main.py
```

---

## 📖 基本的な使い方

### メインウィンドウ

```
┌─────────────────────────────────────────────────────────┐
│ BugSearch2 Control Center v1.0.0                        │
├─────────────────────────────────────────────────────────┤
│ [📁 File] [❓ Help]                                     │
├─────────────────────────────────────────────────────────┤
│ [🚀 起動] [📊 監視] [⚙ 設定] [📜 履歴]                   │
│                                                         │
│ ... タブコンテンツ ...                                   │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ Ready                                                   │
└─────────────────────────────────────────────────────────┘
```

### タブ構成

1. **🚀 起動タブ**: ジョブの起動
2. **📊 監視タブ**: 実行中ジョブとログの監視
3. **⚙ 設定タブ**: アプリケーション設定
4. **📜 履歴タブ**: 過去のジョブ履歴

---

## 🚀 起動タブ

### Context7統合分析

最も簡単な方法：技術スタックを指定して完全自動分析

```
┌─────────────────────────────────────────────┐
│ Context7統合分析 (--auto-run)               │
│                                             │
│ [▶ 起動]                                    │
└─────────────────────────────────────────────┘
```

**実行内容**:
1. Context7から技術仕様取得
2. カスタムルールYAML生成
3. YAML検証（エラーあればAI修正）
4. インデックス作成
5. AI分析実行
6. レポート生成

### インデックス作成

コードベースのインデックスを作成

```
┌─────────────────────────────────────────────┐
│ インデックス作成                             │
│                                             │
│ [▶ 起動]                                    │
└─────────────────────────────────────────────┘
```

**実行内容**:
```bash
python codex_review_severity.py index
```

### AI分析実行

高深刻度ファイルに対するAI詳細分析

```
┌─────────────────────────────────────────────┐
│ AI分析実行                                   │
│                                             │
│ [▶ 起動]                                    │
└─────────────────────────────────────────────┘
```

**実行内容**:
```bash
python codex_review_severity.py advise --all
```

### 改善コード適用

AI生成の改善コードを自動適用

```
┌─────────────────────────────────────────────┐
│ 改善コード適用                               │
│                                             │
│ [▶ 起動]                                    │
└─────────────────────────────────────────────┘
```

**実行内容**:
```bash
python apply_improvements_from_report.py reports/latest.md
```

---

## 📊 監視タブ

### 実行中ジョブ

```
┌─────────────────────────────────────────────────────┐
│ 実行中のジョブ                                       │
├─────────────────────────────────────────────────────┤
│ ▶ Job#001: React分析 (AI修正中...)                  │
│   ████████████░░░░░░░░░░ 65% [⏸][⏹]              │
│   CPU: 15% | メモリ: 450MB | 経過: 2m 30s           │
│                                                     │
│ ▶ Job#002: インデックス作成                          │
│   ██████████████████████ 100% [✓]                  │
│   完了: 150ファイル | 3m 10s                         │
└─────────────────────────────────────────────────────┘
```

### リアルタイムログ

```
┌─────────────────────────────────────────────────────┐
│ リアルタイムログ                      [🔍][💾]       │
├─────────────────────────────────────────────────────┤
│ [15:30:45] INFO: Starting Context7 integration...    │
│ [15:30:47] INFO: Resolving library ID for 'react'    │
│ [15:30:50] SUCCESS: Retrieved docs for React 18.x    │
│ [15:30:51] INFO: Generating YAML configuration...    │
│ [15:30:52] WARNING: Validation error in rule #3      │
│ [15:30:55] INFO: Attempting AI fix (1/5)...          │
│ [15:31:00] SUCCESS: YAML validation passed           │
└─────────────────────────────────────────────────────┘
```

### ジョブ制御ボタン

- **⏸ 一時停止**: プロセスをサスペンド（メモリ状態を保持）
- **▶ 再開**: サスペンド中のプロセスを再開
- **⏹ 停止**: プロセスを終了

---

## ⚙ 設定タブ

### テーマ設定

```
テーマ:
[dark ▼]  # or light
```

- **Dark**: ダークモード（デフォルト）
- **Light**: ライトモード

### 並列実行数

```
最大並列実行数:
[━━━●━━━━━━] 3
現在: 3
```

スライダーで1〜10の範囲で調整

---

## 📜 履歴タブ

過去のジョブ実行履歴を表示

```
┌─────────────────────────────────────────────────────┐
│ 2025-10-12 15:30 | React分析 | ✓ 完了 | 5m 20s      │
│ 2025-10-12 14:15 | Index作成 | ✓ 完了 | 2m 15s      │
│ 2025-10-12 13:45 | Vue分析   | ✗ 失敗 | 1m 30s      │
└─────────────────────────────────────────────────────┘
```

**[🗑 履歴クリア]** ボタンで履歴を削除

---

## 🎯 使用シナリオ

### シナリオ1: 新規プロジェクトの完全分析

1. **起動タブ**を開く
2. **Context7統合分析**の[▶ 起動]をクリック
3. **監視タブ**に切り替え
4. リアルタイムログで進捗を確認
5. 完了後、`reports/`ディレクトリでレポートを確認

**所要時間**: 約5〜10分（プロジェクトサイズによる）

### シナリオ2: 段階的な分析

1. **インデックス作成**を起動
2. 完了を待つ（2〜3分）
3. **AI分析実行**を起動
4. 結果を確認

**メリット**: 各段階で結果を確認できる

### シナリオ3: 複数プロジェクトの並列分析

1. **設定タブ**で並列実行数を5に設定
2. **起動タブ**で5つのジョブを順次追加
3. **監視タブ**で全ジョブの進捗を確認

**メリット**: 時間を大幅に短縮

---

## 🔧 トラブルシューティング

### ジョブが起動しない

**原因**: 並列実行数上限に達している

**解決策**:
1. 監視タブで実行中ジョブを確認
2. 不要なジョブを停止
3. または設定タブで並列実行数を増やす

### ログが表示されない

**原因**: ログ収集が開始されていない

**解決策**:
1. アプリを再起動
2. ジョブを再実行

### プロセスが停止できない

**原因**: プロセスがハングしている

**解決策**:
1. [⏹ 停止]ボタンを押す
2. 10秒待機（自動的にSIGKILL）
3. それでも停止しない場合はタスクマネージャーから強制終了

### 状態が保存されない

**原因**: `.gui_app_state.json`への書き込み権限がない

**解決策**:
```bash
# 権限を確認
ls -la .gui_app_state.json

# 権限を付与（Unix/Mac）
chmod 644 .gui_app_state.json
```

---

## ⌨ キーボードショートカット

| ショートカット | 機能 |
|------------|------|
| `Ctrl+N` | 新しいジョブ（未実装） |
| `Ctrl+P` | 一時停止/再開（未実装） |
| `Ctrl+S` | 設定保存（自動保存） |
| `Ctrl+L` | ログクリア（未実装） |
| `F5` | 更新（未実装） |

*注: v1.0.0では一部未実装*

---

## 📊 パフォーマンスのヒント

### 推奨設定

| 項目 | 小規模 | 中規模 | 大規模 |
|-----|--------|--------|--------|
| **ファイル数** | <1,000 | 1,000-10,000 | >10,000 |
| **並列実行数** | 1-2 | 3-5 | 5-10 |
| **ログバッファ** | 5,000 | 10,000 | 20,000 |

### メモリ使用量

| コンポーネント | 使用量 |
|------------|--------|
| GUI本体 | 50-100MB |
| プロセス1つ | 100-300MB |
| ログバッファ | 10-50MB |

**合計**: 約200-500MB（並列実行数3の場合）

---

## 🔗 関連ドキュメント

- [BugSearch2 README](../../README.md)
- [技術仕様書](../TECHNICAL.md)
- [Context7統合ガイド](./CONTEXT7_INTEGRATION_GUIDE.md)
- [Phase 8計画書](../PHASE8_PLAN.md)

---

## 🆘 サポート

### 問題報告

GitHubでissueを作成:
- リポジトリ: `KEIEI-NET/BugSearch2`
- テンプレート: Bug Report

### 含めるべき情報

1. BugSearch2バージョン
2. OS情報（Windows/Mac/Linux）
3. Pythonバージョン
4. エラーメッセージ
5. 再現手順

---

*最終更新: 2025年10月12日*
*バージョン: v1.0.0*

**更新履歴:**
- v1.0.0 (2025年10月12日): 初版作成、Phase 4.1完了
