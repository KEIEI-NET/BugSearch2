<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" type="device">
  <diagram name="Codex Review Query Sequence">
    <mxGraphModel dx="2200" dy="1400" grid="1" gridSize="10" background="#ffffff">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Codex Review Query Command - Hybrid Mode Sequence Diagram" style="text;html=1;fontSize=18;fontStyle=1;fontColor=#000000;align=center" vertex="1" parent="1">
          <mxGeometry x="300" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <!-- Participants (Lifelines) -->
        <!-- User -->
        <mxCell id="user_lifeline" value="User" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#000000;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="80" width="100" height="1600" as="geometry" />
        </mxCell>

        <!-- CLI -->
        <mxCell id="cli_lifeline" value="CLI" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="220" y="80" width="100" height="1600" as="geometry" />
        </mxCell>

        <!-- Index Loader -->
        <mxCell id="indexloader_lifeline" value="Index Loader" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="360" y="80" width="100" height="1600" as="geometry" />
        </mxCell>

        <!-- Retriever -->
        <mxCell id="retriever_lifeline" value="Retriever" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="500" y="80" width="100" height="1600" as="geometry" />
        </mxCell>

        <!-- Rule Engine -->
        <mxCell id="ruleengine_lifeline" value="Rule Engine" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#e1d5e7;strokeColor=#9673a6;fontColor=#000000;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="640" y="80" width="100" height="1600" as="geometry" />
        </mxCell>

        <!-- GPT-5 API -->
        <mxCell id="gpt5_lifeline" value="GPT-5 API" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#fff2cc;strokeColor=#d6b656;fontColor=#000000;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="780" y="80" width="100" height="1600" as="geometry" />
        </mxCell>

        <!-- Report Generator -->
        <mxCell id="reportgen_lifeline" value="Report Generator" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="920" y="80" width="100" height="1600" as="geometry" />
        </mxCell>

        <!-- Activation Boxes -->
        <mxCell id="user_activation" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#d5e8d4;strokeColor=#82b366" vertex="1" parent="user_lifeline">
          <mxGeometry x="45" y="60" width="10" height="1500" as="geometry" />
        </mxCell>

        <mxCell id="cli_activation" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#dae8fc;strokeColor=#6c8ebf" vertex="1" parent="cli_lifeline">
          <mxGeometry x="45" y="90" width="10" height="1450" as="geometry" />
        </mxCell>

        <mxCell id="indexloader_activation" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#dae8fc;strokeColor=#6c8ebf" vertex="1" parent="indexloader_lifeline">
          <mxGeometry x="45" y="160" width="10" height="80" as="geometry" />
        </mxCell>

        <mxCell id="retriever_activation" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#dae8fc;strokeColor=#6c8ebf" vertex="1" parent="retriever_lifeline">
          <mxGeometry x="45" y="270" width="10" height="120" as="geometry" />
        </mxCell>

        <mxCell id="ruleengine_activation" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#e1d5e7;strokeColor=#9673a6" vertex="1" parent="ruleengine_lifeline">
          <mxGeometry x="45" y="420" width="10" height="200" as="geometry" />
        </mxCell>

        <mxCell id="gpt5_activation" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#fff2cc;strokeColor=#d6b656" vertex="1" parent="gpt5_lifeline">
          <mxGeometry x="45" y="650" width="10" height="600" as="geometry" />
        </mxCell>

        <mxCell id="reportgen_activation" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#dae8fc;strokeColor=#6c8ebf" vertex="1" parent="reportgen_lifeline">
          <mxGeometry x="45" y="1280" width="10" height="180" as="geometry" />
        </mxCell>

        <!-- Messages -->
        <!-- 1. User command -->
        <mxCell id="msg1" value="python codex_review_optimized.py query &quot;データベース接続&quot; --mode hybrid --topk 30 --out reports/db.md" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;strokeColor=#333333;strokeWidth=2;fontSize=10;fontColor=#000000" edge="1" parent="1" source="user_activation" target="cli_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="140" y="150" as="sourcePoint" />
            <mxPoint x="260" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 2. Parse arguments -->
        <mxCell id="msg2" value="parse arguments" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="270" y="190" as="sourcePoint" />
            <mxPoint x="270" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 3. Load index -->
        <mxCell id="msg3" value="load_index(.advice_index.jsonl)" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;strokeColor=#333333;strokeWidth=2;fontSize=10;fontColor=#000000" edge="1" parent="1" source="cli_activation" target="indexloader_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="240" as="sourcePoint" />
            <mxPoint x="400" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 4. Return indexed documents -->
        <mxCell id="msg4" value="List[Dict] (indexed documents)" style="html=1;verticalAlign=bottom;endArrow=open;endFill=0;exitX=0;exitY=1;strokeColor=#333333;strokeWidth=2;fontSize=10;fontColor=#000000;dashed=1" edge="1" parent="1" source="indexloader_activation" target="cli_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="400" y="260" as="sourcePoint" />
            <mxPoint x="280" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 5. Retrieve relevant files -->
        <mxCell id="msg5" value="retrieve(&quot;データベース接続&quot;, index, topk=30)" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;strokeColor=#333333;strokeWidth=2;fontSize=10;fontColor=#000000" edge="1" parent="1" source="cli_activation" target="retriever_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="300" as="sourcePoint" />
            <mxPoint x="540" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 6. TF-IDF or naive search -->
        <mxCell id="msg6" value="TF-IDF search / naive search" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="330" as="sourcePoint" />
            <mxPoint x="550" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 7. Return top 30 matches -->
        <mxCell id="msg7" value="top 30 matching files" style="html=1;verticalAlign=bottom;endArrow=open;endFill=0;exitX=0;exitY=1;strokeColor=#333333;strokeWidth=2;fontSize=10;fontColor=#000000;dashed=1" edge="1" parent="1" source="retriever_activation" target="cli_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="380" as="sourcePoint" />
            <mxPoint x="280" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 8. Rule analysis -->
        <mxCell id="msg8" value="rule_advices(files) - analyze money/print/UI/DB issues" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;strokeColor=#9673a6;strokeWidth=2;fontSize=10;fontColor=#000000" edge="1" parent="1" source="cli_activation" target="ruleengine_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="450" as="sourcePoint" />
            <mxPoint x="680" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 9. Money pattern scan -->
        <mxCell id="msg9" value="scan_money(text)" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690" y="480" as="sourcePoint" />
            <mxPoint x="690" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 10. Print pattern scan -->
        <mxCell id="msg10" value="scan_print(text)" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690" y="510" as="sourcePoint" />
            <mxPoint x="690" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 11. UI pattern scan -->
        <mxCell id="msg11" value="scan_ui(text)" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690" y="540" as="sourcePoint" />
            <mxPoint x="690" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 12. DB pattern scan -->
        <mxCell id="msg12" value="scan_db(text)" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690" y="570" as="sourcePoint" />
            <mxPoint x="690" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 13. Return rule results -->
        <mxCell id="msg13" value="rule analysis results" style="html=1;verticalAlign=bottom;endArrow=open;endFill=0;exitX=0;exitY=1;strokeColor=#9673a6;strokeWidth=2;fontSize=10;fontColor=#000000;dashed=1" edge="1" parent="1" source="ruleengine_activation" target="cli_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="680" y="620" as="sourcePoint" />
            <mxPoint x="280" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- GPT-5 Batch Processing Section -->
        <!-- 14. Start AI review -->
        <mxCell id="msg14" value="ai_review_batch(query, 30 files)" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;strokeColor=#d6b656;strokeWidth=2;fontSize=10;fontColor=#000000" edge="1" parent="1" source="cli_activation" target="gpt5_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="680" as="sourcePoint" />
            <mxPoint x="820" y="680" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 15. Split into batches -->
        <mxCell id="msg15" value="Split 30 files into 3 batches (10 files each)" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="710" as="sourcePoint" />
            <mxPoint x="830" y="730" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Batch 1 Processing -->
        <mxCell id="batch1_note" value="Batch 1 (Files 1-10)" style="text;html=1;fontSize=11;fontStyle=1;fontColor=#d6b656;align=center" vertex="1" parent="1">
          <mxGeometry x="850" y="750" width="120" height="20" as="geometry" />
        </mxCell>

        <!-- 16. Create prompt for batch 1 -->
        <mxCell id="msg16" value="Create prompt for batch 1" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="780" as="sourcePoint" />
            <mxPoint x="830" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 17. API call for batch 1 -->
        <mxCell id="msg17" value="client.chat.completions.create(timeout=240s)" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="820" as="sourcePoint" />
            <mxPoint x="830" y="840" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 18. Response for batch 1 -->
        <mxCell id="msg18" value="AI review for batch 1" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="860" as="sourcePoint" />
            <mxPoint x="830" y="880" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Batch 2 Processing -->
        <mxCell id="batch2_note" value="Batch 2 (Files 11-20)" style="text;html=1;fontSize=11;fontStyle=1;fontColor=#d6b656;align=center" vertex="1" parent="1">
          <mxGeometry x="850" y="900" width="120" height="20" as="geometry" />
        </mxCell>

        <!-- 19. Create prompt for batch 2 -->
        <mxCell id="msg19" value="Create prompt for batch 2" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="930" as="sourcePoint" />
            <mxPoint x="830" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 20. API call for batch 2 -->
        <mxCell id="msg20" value="client.chat.completions.create(timeout=240s)" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="970" as="sourcePoint" />
            <mxPoint x="830" y="990" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 21. Response for batch 2 -->
        <mxCell id="msg21" value="AI review for batch 2" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="1010" as="sourcePoint" />
            <mxPoint x="830" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Batch 3 Processing -->
        <mxCell id="batch3_note" value="Batch 3 (Files 21-30)" style="text;html=1;fontSize=11;fontStyle=1;fontColor=#d6b656;align=center" vertex="1" parent="1">
          <mxGeometry x="850" y="1050" width="120" height="20" as="geometry" />
        </mxCell>

        <!-- 22. Create prompt for batch 3 -->
        <mxCell id="msg22" value="Create prompt for batch 3" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="1080" as="sourcePoint" />
            <mxPoint x="830" y="1100" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 23. API call for batch 3 -->
        <mxCell id="msg23" value="client.chat.completions.create(timeout=240s)" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="1120" as="sourcePoint" />
            <mxPoint x="830" y="1140" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 24. Response for batch 3 -->
        <mxCell id="msg24" value="AI review for batch 3" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="1160" as="sourcePoint" />
            <mxPoint x="830" y="1180" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 25. Combine batch results -->
        <mxCell id="msg25" value="Combine all batch results" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="1200" as="sourcePoint" />
            <mxPoint x="830" y="1220" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 26. Return AI review -->
        <mxCell id="msg26" value="combined AI review (all 30 files / 3 batches)" style="html=1;verticalAlign=bottom;endArrow=open;endFill=0;exitX=0;exitY=1;strokeColor=#d6b656;strokeWidth=2;fontSize=10;fontColor=#000000;dashed=1" edge="1" parent="1" source="gpt5_activation" target="cli_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="820" y="1250" as="sourcePoint" />
            <mxPoint x="280" y="1250" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 27. Generate report -->
        <mxCell id="msg27" value="render_report(query, items, ai_summary)" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;strokeColor=#333333;strokeWidth=2;fontSize=10;fontColor=#000000" edge="1" parent="1" source="cli_activation" target="reportgen_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="1310" as="sourcePoint" />
            <mxPoint x="960" y="1310" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 28. Combine rule and AI results -->
        <mxCell id="msg28" value="Combine rule results + AI reviews" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="970" y="1340" as="sourcePoint" />
            <mxPoint x="970" y="1360" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 29. Format as markdown -->
        <mxCell id="msg29" value="Format as Markdown report" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="970" y="1380" as="sourcePoint" />
            <mxPoint x="970" y="1400" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 30. Return report -->
        <mxCell id="msg30" value="formatted report content" style="html=1;verticalAlign=bottom;endArrow=open;endFill=0;exitX=0;exitY=1;strokeColor=#333333;strokeWidth=2;fontSize=10;fontColor=#000000;dashed=1" edge="1" parent="1" source="reportgen_activation" target="cli_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="960" y="1460" as="sourcePoint" />
            <mxPoint x="280" y="1460" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 31. Write to file -->
        <mxCell id="msg31" value="Write to reports/db.md" style="html=1;verticalAlign=bottom;endArrow=none;dashed=1;strokeColor=#666666;strokeWidth=1;fontSize=10;fontColor=#666666" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="270" y="1490" as="sourcePoint" />
            <mxPoint x="270" y="1510" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 32. Success message -->
        <mxCell id="msg32" value="[OK] wrote reports/db.md" style="html=1;verticalAlign=bottom;endArrow=open;endFill=0;exitX=0;exitY=1;strokeColor=#82b366;strokeWidth=2;fontSize=10;fontColor=#2e7d32;dashed=1" edge="1" parent="1" source="cli_activation" target="user_activation">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260" y="1540" as="sourcePoint" />
            <mxPoint x="140" y="1540" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Notes -->
        <mxCell id="note1" value="Note: Hybrid mode combines&#xa;rule-based analysis with AI review" style="text;html=1;fontSize=10;fontColor=#666666;align=left;fillColor=#f8f9fa;strokeColor=#dee2e6;whiteSpace=wrap" vertex="1" parent="1">
          <mxGeometry x="1080" y="200" width="180" height="50" as="geometry" />
        </mxCell>

        <mxCell id="note2" value="Note: GPT-5 processes files in&#xa;batches of 10 to optimize&#xa;performance and stay within&#xa;token limits" style="text;html=1;fontSize=10;fontColor=#666666;align=left;fillColor=#f8f9fa;strokeColor=#dee2e6;whiteSpace=wrap" vertex="1" parent="1">
          <mxGeometry x="1080" y="700" width="180" height="70" as="geometry" />
        </mxCell>

        <mxCell id="note3" value="Note: Each API call has a&#xa;240-second timeout to handle&#xa;large batches" style="text;html=1;fontSize=10;fontColor=#666666;align=left;fillColor=#f8f9fa;strokeColor=#dee2e6;whiteSpace=wrap" vertex="1" parent="1">
          <mxGeometry x="1080" y="1000" width="180" height="50" as="geometry" />
        </mxCell>

        <mxCell id="note4" value="Priority Categories:&#xa;1. Money (float/decimal issues)&#xa;2. Print (error handling)&#xa;3. UI/UX (validation, XSS)&#xa;4. DB (N+1, performance)" style="text;html=1;fontSize=10;fontColor=#666666;align=left;fillColor=#f8f9fa;strokeColor=#dee2e6;whiteSpace=wrap" vertex="1" parent="1">
          <mxGeometry x="1080" y="450" width="180" height="80" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>